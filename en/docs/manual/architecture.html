<!doctype html>
<html lang="en-us" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-manual/architecture">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">design philosophy | Luban</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://luban.doc.code-philosophy.com/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://luban.doc.code-philosophy.com/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://luban.doc.code-philosophy.com/en/docs/manual/architecture"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="design philosophy | Luban"><meta data-rh="true" name="description" content="In most people&#x27;s minds, the implementation of configuration tools should be very simple. In fact, you can implement a simple configuration tool with a few hundred lines of code, but it is only usable and far from meeting the various requirements of the configuration workflow in actual game projects."><meta data-rh="true" property="og:description" content="In most people&#x27;s minds, the implementation of configuration tools should be very simple. In fact, you can implement a simple configuration tool with a few hundred lines of code, but it is only usable and far from meeting the various requirements of the configuration workflow in actual game projects."><link data-rh="true" rel="icon" href="/en/img/logo.png"><link data-rh="true" rel="canonical" href="https://luban.doc.code-philosophy.com/en/docs/manual/architecture"><link data-rh="true" rel="alternate" href="https://luban.doc.code-philosophy.com/docs/manual/architecture" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://luban.doc.code-philosophy.com/en/docs/manual/architecture" hreflang="en-us"><link data-rh="true" rel="alternate" href="https://luban.doc.code-philosophy.com/docs/manual/architecture" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7OJETCEDBD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Luban" href="/en/opensearch.xml"><link rel="stylesheet" href="/en/assets/css/styles.63be808c.css">
<link rel="preload" href="/en/assets/js/runtime~main.6204b950.js" as="script">
<link rel="preload" href="/en/assets/js/main.72f07b5a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Luban</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/docs/intro">Document</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/focus-creative-games/luban" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/intro">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/en/docs/manual/architecture">Next</a></li><li><a class="dropdown__link" href="/en/docs/classic/intro">classic</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/manual/architecture" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-cn">中文</a></li><li><a href="/en/docs/manual/architecture" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-us">English</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/intro">Introduce</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/en/docs/beginner">The tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;The tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/beginner/quickstart">Get started quickly</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/en/docs/basic">User Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/manual/architecture">design philosophy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/traits">Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/luban.conf">luban.conf</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/schema">schema logical structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/defaultschemacollector">configuration definition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/commandtools">Command line tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/cascadingoption">Hierarchical parameter mechanism</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/types">type system</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/typemapper">type mapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/excel">excel format (primary)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/exceladvanced">excel format (advanced)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/otherdatasource">Non-excel data format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/generatecodedata">Code and Data Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/codestyle">Code Style</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/loadconfigatruntime">load configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/validator">data validator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/template">custom template</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/tag">data tag</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/l10n">localization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/migrate">Differences from the classic version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/bestpractices">Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/manual/extendluban">Extended Luban implementation</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/docs/help/faq">FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/en/docs/other">Other</a><button aria-label="Toggle the collapsible sidebar category &#x27;Other&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/en/docs/basic"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">design philosophy</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>design philosophy</h1><p>In most people&#x27;s minds, the implementation of configuration tools should be very simple. In fact, you can implement a simple configuration tool with a few hundred lines of code, but it is only usable and far from meeting the various requirements of the configuration workflow in actual game projects.
The basic goal of Luban design at the beginning is to meet the needs of at least heavy projects like open world MMORPG, so it must solve the common pain points in large projects:</p><ul><li>Although some data tables are also written in excel, they have more complex data formats, and these complex data need to be elegantly configured in excel</li><li>Complicated logic such as skills, AI, and replicas are not suitable for filling in excel, and must be able to handle such non-excel formats</li><li>It must be able to treat traditional standard tables (row lists like excel) and non-standard tables (skills, AI, etc.) in a unified manner, instead of introducing multiple sets of configuration schemes</li><li>There are a lot of fields like prop id and resource path in the configuration. The tool needs to be able to check for data errors in advance, rather than waiting until the program is running to find out.</li><li>It should be able to directly generate the code related to the configuration structure, instead of letting the front-end and back-end programmers write the analysis once, such work is time-consuming, laborious and error-prone</li><li>It should support an efficient export format, and it should also support the use of easy-to-read export file types such as json during development</li><li>The generation should be fast, try to complete it in seconds, instead of taking 30 seconds or even longer</li><li>Can run cross-platform, that is, it can work on windows, linux, macOS</li></ul><p>In a nutshell, a mature configuration tool that can be widely used in various types of games must support rich data source formats, have strong data expression capabilities (this is the basis for parsing and generating code and data), and contain rich data The verification mechanism can support a variety of common game languages, and can export a variety of data formats, and the generation is as fast as lightning. In addition, since it is impossible to fully meet all project requirements, it is also required to have a clear design, facilitate secondary development, and customize a unique configuration tool for the project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="complete-type-system">complete type system<a href="#complete-type-system" class="hash-link" aria-label="Direct link to complete type system" title="Direct link to complete type system">​</a></h2><p>A very hard-to-recognize fact is that the <strong>type system (data structure) is the core of the configuration tool</strong>.</p><p>The importance of the type system to the configuration tool is similar to the status of the CPU in the computer. Most configuration tools only have a simple concept of type system and data structure (such as only supporting table structure), and the table header is their only data structure, so they lack powerful and flexible data expression capabilities. This makes them incapable of handling complex configuration formats, forcing developers to use all kinds of tricks to express and configure data.</p><p>A weak configuration tool, the root of the defect lies in premature coupling with formats such as xlsx. Just imagine, if there is no strong data expression ability, even if complex data can be configured, how to parse them, which means that the complex data appearing in the configuration will be unknowable data. At this time, the tool can only do These data are treated as generic string or binary stream data. There is no way to perform follow-up processing on them, no data verification (you don’t even know what data type it is, where to start with verification), let alone generate code, and also cannot generate efficient data.</p><p>Breaking away from the specification table restrictions of excel&#x27;s row and column constraints, and having a complete type system, it is natural to find that it is a matter of course to support various types of source data formats. Because what you have to do is to parse the data from this type of file according to the table definition! Therefore, it is very simple to extend the data source from excel to json, xml, yaml, lua, and it is extremely easy to expand new data sources.</p><p>With a powerful type system and support for rich source data formats, the complex configuration problems encountered in large-scale game projects are also easily solved. No matter how complicated the game configuration is, it can be easily expressed with a powerful type system, and then these configurations can be processed, no matter what form they are saved in (complex configurations are often in non-excel format), because at most it is just a new source Just the data format.</p><p>After perfectly solving complex data such as dungeons, skills, and AI, unifying the configuration of most modules in the game is a matter of course. Programmers no longer need to use multiple methods to manage game configuration, and the code has become more standardized, unified and elegant.</p><p>Before the unified configuration, if the skill table id generated by an editor is referenced in the excel table, it is often difficult to verify. After the game configuration is unified, work such as data verification of various configurations of the game can also be handled uniformly.</p><p>With a unified data expression and processing method, all data can share an efficient output format. Prior to this, it was impossible for game configurations saved in json format, such as skills, to properly group the data into front-end and back-end data, and then convert it into an efficient binary format, because it would consume a lot of programmer development time. Most projects cannot handle such things finely, resulting in loading json format data at runtime, which is a considerable waste of space and time!</p><p>With a unified data expression method, the code for loading and expressing all configurations can be automatically generated. Programmers can also be completely freed from the mechanical work of manually configuring and loading code. This kind of thing is too error-prone and a waste of time!</p><p>Looking back at the entire derivation process, you may understand this point more deeply: <strong>The core and source of Luban&#x27;s powerful capabilities come from a complete type system</strong>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ddp-pipeline">DDP pipeline<a href="#ddp-pipeline" class="hash-link" aria-label="Direct link to DDP pipeline" title="Direct link to DDP pipeline">​</a></h2><p>We have continuously summarized the development experience of configuration tools from years of large-scale project development practice, and finally abstracted the design of Data Process Pipeline (DPP), as shown in the figure below.</p><p><img loading="lazy" alt="pipeline" src="/en/assets/images/pipeline-0c712820bc26a780dc8a354979b378d1.jpg" width="946" height="868" class="img_ev3q"></p><p>The DPP pipeline is the basis of Luban&#x27;s powerful features and expansion capabilities. Each part of the process can be flexibly expanded or modified to meet various complex needs of the project.</p><ul><li>The schema processing module can adapt to various special agreed configuration items, and developers can customize the usage agreements of configuration projects according to their own preferences</li><li>The data loading module can process a variety of source data files and parse them into a unified format, which is convenient for subsequent stages of processing</li><li>The data verification module supports rich data verification methods, and finds problems as much as possible before the configuration is submitted</li><li>The code generation module can support rich code languages, and the new language support does not affect other implementations</li><li>The data generation module can support rich output formats, perfect for various special and high-performance occasions</li><li>Code post-processing module to facilitate code formatting</li><li>Data post-processing module to facilitate the realization of functions such as json compact</li><li>The output file module can not only support traditional file output, but also customize the output to zip or output to the database</li></ul><p>The Luban.Core project contains all the core mechanisms of Luban and provides an extremely flexible extension mechanism. Based on this, Luban.XXX.Buitin and extension projects in various languages or formats constitute the current rich features of Luban. </p><p>Based on Luban.Core, you can customize features that are completely different from standard Luban. It can be said with great confidence that Luban is currently the most feature-rich and scalable configuration solution. Even with features that are completely different from standard Luban, <strong>Luban is the best starting point for your custom configuration tools</strong>.</p><p>It provides a very general and powerful core and implements a large number of trivial functions. You only need to make a configuration solution that perfectly meets your needs without making too complicated modifications on this basis.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-support-for-excel-format">Enhanced support for excel format<a href="#enhanced-support-for-excel-format" class="hash-link" aria-label="Direct link to Enhanced support for excel format" title="Direct link to Enhanced support for excel format">​</a></h2><p>Although Luban supports extremely rich source data types, the vast majority (more than 80%) of configurations in practical projects are edited in excel. The root of this matter is that the data that drives most game logic is still standardized and consistent, and it is most reasonable for these game configurations to be read, edited, and saved in table form. This is determined by the characteristics of the data and cannot be controlled by planning preferences.</p><p>Most excel table configurations are indeed very standardized and simple, but it is common to encounter tables with data complexity between simple tables and GamePlay tables (such as skills). Examples include enumerations, lists, lists of structures, polymorphism (structures like Shape), and more complex nested structures. These tables are not so complicated that they need to be expressed with special editors and json, but they do bring a lot of trouble to the design of matching tables.</p><p>Thanks to a complete type system, Luban can naturally configure any complex data in Excel. All it needs to do is how to make the work of configuring complex data more intuitive and easy to use. After our careful design, it is basically realized that moderately complex data structures can be configured in excel elegantly and concisely. An obvious improvement brought about is that programmers and planners no longer have to worry about using various tricks and redundant mechanisms to configure data. They only need to formulate the data structure according to the game logic, and then choose an appropriate way to use it. Just configure it. In actual projects, most of the time the data structure and the final configuration method are very satisfactory to the program and planning. This greatly reduces the mental burden of developers, especially developers with code cleanliness!</p><p>Another obscure but noticeable improvement in practice is that due to Luban’s powerful configuration expression ability, planning and procedures will gradually develop the habit of designing an elegant structure first, and then filling in the form, which virtually promotes the configuration of the entire project to be more efficient. Standardize and unify. For example structs like rewards are public structs</p><p>After Luban supports custom structures, the reward structures in each table are unified. Before this kind of support, it often appeared that the reward definition of each table was willful and arbitrary, which was very ugly and had a great impact on the development of the program.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-and-cross-platform">Performance and cross-platform<a href="#performance-and-cross-platform" class="hash-link" aria-label="Direct link to Performance and cross-platform" title="Direct link to Performance and cross-platform">​</a></h2><p>Although python is suitable for developing such tools, its own inefficiency and inability to support concurrency well make it difficult to handle the massive configuration data of large-scale projects. Luban chooses to use C# language to develop, based on the cross-platform capability and powerful performance of .net core, it solves the problem of cross-platform and performance from the root.</p><p>Due to its many features, Luban itself is also a medium-scale project. Based on a strongly typed language like C#, code refactoring becomes much easier.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/basic"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">使用指南</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/manual/traits"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Features</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#complete-type-system" class="table-of-contents__link toc-highlight">complete type system</a></li><li><a href="#ddp-pipeline" class="table-of-contents__link toc-highlight">DDP pipeline</a></li><li><a href="#enhanced-support-for-excel-format" class="table-of-contents__link toc-highlight">Enhanced support for excel format</a></li><li><a href="#performance-and-cross-platform" class="table-of-contents__link toc-highlight">Performance and cross-platform</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/intro">Document</a></li></ul></div><div class="col footer__col"><div class="footer__title">Repository</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/focus-creative-games/luban_examples" target="_blank" rel="noopener noreferrer" class="footer__link-item">luban_examples<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/focus-creative-games/Excel2TextDiff" target="_blank" rel="noopener noreferrer" class="footer__link-item">Excel2TextDiff<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/focus-creative-games/hybridclr" target="_blank" rel="noopener noreferrer" class="footer__link-item">hybridclr<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/focus-creative-games/luban" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/focus-creative-games/luban" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 <a href="https://code-philosophy.com/">Code Philosophy</a>. All Rights Reserved.</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.6204b950.js"></script>
<script src="/en/assets/js/main.72f07b5a.js"></script>
</body>
</html>
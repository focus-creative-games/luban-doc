"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1304],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>b});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=p(a),d=n,b=m["".concat(s,".").concat(d)]||m[d]||c[d]||i;return a?r.createElement(b,l(l({ref:t},u),{},{components:a})):r.createElement(b,l({ref:t},u))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[m]="string"==typeof e?e:n,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6975:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const i={},l="Auto-Imported Tables",o={unversionedId:"beginner/importtable",id:"beginner/importtable",title:"Auto-Imported Tables",description:"Each new table requires adding an entry to tables.xlsx, which is quite tedious. In most cases, each Excel file corresponds to a single table, so it's possible to have the tool automatically add the table definition.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/beginner/importtable.md",sourceDirName:"beginner",slug:"/beginner/importtable",permalink:"/en/docs/beginner/importtable",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Use Polymorphic types",permalink:"/en/docs/beginner/usepolymorphismtype"},next:{title:"\u4f7f\u7528\u6307\u5357",permalink:"/en/docs/basic"}},s={},p=[{value:"Creating a Table for Automatic Import",id:"creating-a-table-for-automatic-import",level:2},{value:"Default Import Rules",id:"default-import-rules",level:2}],u={toc:p},m="wrapper";function c(e){let{components:t,...a}=e;return(0,n.kt)(m,(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"auto-imported-tables"},"Auto-Imported Tables"),(0,n.kt)("p",null,"Each new table requires adding an entry to ",(0,n.kt)("strong",{parentName:"p"},"tables"),".xlsx, which is quite tedious. In most cases, each Excel file corresponds to a single table, so it's possible to have the tool automatically add the table definition."),(0,n.kt)("p",null,"Starting with version 3.0.0, automatic table import is supported. Luban will scan the Excel file according to the specified rules and automatically import the corresponding table. Note that the table information is not added to the ",(0,n.kt)("inlineCode",{parentName:"p"},"__tables__.xlsx")," file."),(0,n.kt)("p",null,"Automatic import supports custom import rules. For details, please refer to the document ",(0,n.kt)("a",{parentName:"p",href:"/en/docs/manual/importtable"},"Automatically Importing Tables"),"."),(0,n.kt)("h2",{id:"creating-a-table-for-automatic-import"},"Creating a Table for Automatic Import"),(0,n.kt)("p",null,"Copy the reward.xlsx file created in the ",(0,n.kt)("a",{parentName:"p",href:"quickstart"},"Quick Start")," to ",(0,n.kt)("inlineCode",{parentName:"p"},"#Reward2-RewardTable.xlsx"),". ",(0,n.kt)("strong",{parentName:"p"},"No")," modifications to ",(0,n.kt)("inlineCode",{parentName:"p"},"_\\_tables\\_\\_.xlsx")," are required. After regenerating, you will see a new table, TbReward2, with a record type of Reward2.\nThe ",(0,n.kt)("inlineCode",{parentName:"p"},"-xxxx")," comment after the table name is optional; if present, it is automatically treated as a table comment."),(0,n.kt)("p",null,"This method of adding tables is very convenient for common scenarios."),(0,n.kt)("h2",{id:"default-import-rules"},"Default Import Rules"),(0,n.kt)("p",null,"By default, all Excel files (xls, xlsx, xlm, csv) with file names beginning with # (e.g., ",(0,n.kt)("inlineCode",{parentName:"p"},"#Item.xlsx")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"reward/#Reward.xlsx"),") in the configured directory (dataDir field in luban.conf) (including subdirectories) will be scanned."),(0,n.kt)("p",null,"The string after the leading '#' character and the file suffix in the file name will be used as the table's value_type. \"Tb\" will be added to the value_type name as the table's full_name. If the Excel file is in a subdirectory, the subdirectory will be used as the namespace. For example:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"#Item.xlsx")," generates a table with full_name TbItem, value_type Item, and mode=map"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"reward/#Reward.xlsx")," generates a table with full_name reward.TbReward, value_type reward.Reward, and mode=map"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"item/equip/#Equip.csv")," generates a table with full_name item.equip.TbEquip, value_type item.equip.Equip, and mode=map"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"#item.Item.xlsx")," generates a table with full_name item.TbItem, value_type item.Item, and mode=map")))}c.isMDXComponent=!0}}]);